# Minecraft Rust 游戏功能

## 🎮 游戏特性

### 🌍 世界生成
- **真实地形生成**: 使用 Perlin 噪声算法生成自然地形
- **多种生物群系**: 包括平原、森林、沙漠、山脉、海洋等
- **洞穴系统**: 自动生成地下洞穴网络
- **矿物分布**: 不同深度的矿物生成
- **动态区块加载**: 根据玩家位置自动加载/卸载区块

### 🎮 玩家控制
- **智能出生系统**: 自动寻找安全的地面出生点，避免卡在地形内部
- **第一人称视角**: 流畅的鼠标视角控制
- **WASD 移动**: 标准 FPS 游戏控制
- **飞行模式**: 按 F 键切换飞行/行走模式
- **冲刺**: 按住 Shift 键冲刺
- **跳跃**: 空格键跳跃
- **优化物理系统**: 
  - 重力、碰撞检测、地面检测
  - 防抖动地面检测（0.2米容错范围）
  - 优化跳跃手感（距离地面0.1米内可跳跃）
  - 改进碰撞响应，减少不必要的速度重置
  - 修复跳跃检测逻辑，确保玩家能够正常跳跃
  - 性能优化：优化碰撞检测算法，只检查玩家附近3x3x3区块范围
  - 大幅提升游戏性能，从10 FPS恢复到144 FPS

### 🔄 区块加载系统
- **异步加载**: 区块生成在后台线程异步进行，避免主线程阻塞
- **分帧处理**: 每帧最多处理2个区块，确保游戏流畅运行
- **智能队列**: 按距离优先级排序，优先加载玩家附近的区块
- **无卡顿体验**: 消除了区块加载时的卡顿现象，保持144 FPS稳定运行
- **内存优化**: 动态加载和卸载区块，有效管理内存使用

### 🔧 方块交互
- **方块破坏**: 左键点击破坏方块
- **方块放置**: 右键点击放置方块
- **射线检测**: 精确的方块选择（8格距离）
- **碰撞检测**: 玩家与方块的物理碰撞

### 🎒 物品栏系统
- **快捷栏**: 9个槽位的快捷栏
- **物品堆叠**: 相同物品自动堆叠
- **槽位选择**: 数字键1-9选择快捷栏槽位
- **物品消耗**: 放置方块时自动消耗物品

### 🖥️ 用户界面
- **HUD显示**: 屏幕底部快捷栏显示
- **槽位高亮**: 当前选中槽位高亮显示
- **物品计数**: 显示每个槽位的物品数量
- **物品图标**: 显示物品类型

### 🧱 方块系统
- **Lua脚本支持**: 使用Lua定义方块属性
- **方块注册**: 动态方块注册系统
- **多种方块类型**: 石头、泥土、草方块、基岩等

## 🎮 控制说明

| 按键 | 功能 |
|------|------|
| W/A/S/D | 移动 |
| 鼠标 | 视角控制 |
| 空格 | 跳跃/上升（飞行模式） |
| Shift | 冲刺/下降（飞行模式） |
| F | 切换飞行模式 |
| 1-9 | 选择快捷栏槽位 |
| 左键 | 破坏方块 |
| 右键 | 放置方块 |
| Alt | 禁用鼠标视角 |
| Esc | 释放鼠标光标 |

## 🚀 技术特性

- **Bevy引擎**: 现代化的Rust游戏引擎
- **ECS架构**: 高性能的实体组件系统
- **多线程**: 并行区块生成和处理
- **内存优化**: 高效的区块存储和管理
- **模块化设计**: 清晰的代码结构

## 🎯 游戏目标

这是一个功能完整的Minecraft克隆版本，包含：
- ✅ 3D世界渲染
- ✅ 地形生成
- ✅ 玩家控制
- ✅ 方块交互
- ✅ 物品栏系统
- ✅ 用户界面
- ✅ 动态区块加载

游戏现在可以正常运行，玩家可以在生成的世界中自由探索、建造和破坏！